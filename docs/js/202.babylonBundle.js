"use strict";(self.webpackChunkbabylonjs_typescript_webpack_template=self.webpackChunkbabylonjs_typescript_webpack_template||[]).push([[202],{22489:(e,t,s)=>{s.d(t,{p:()=>n});const n=(0,s(39371).Z)()},81099:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var n=s(8714),o=s(23579),a=s(90972),r=s(32758),i=s(30307),l=(s(68522),s(18913),s(39268),s(22489)),c=s(63239),h=s(98830),d=s(91503),w=s(30766),u=s(73354),p=s(42110);const g=new class{constructor(){this.preTasks=[l.p],this.createScene=async(e,t)=>{const g=new n.x(e);Promise.all([Promise.resolve().then(s.bind(s,31568)),Promise.all([s.e(596),s.e(247)]).then(s.t.bind(s,53596,23))]).then((e=>{console.log(e),g.debugLayer.show({handleResize:!0,overlay:!0,globalRoot:document.getElementById("#root")||void 0})}));const m=new o.Y("my first camera",0,Math.PI/3,10,new a.P(0,0,0),g);m.setTarget(a.P.Zero()),m.attachControl(t,!0),new r.e("light",new a.P(0,1,0),g).intensity=.7;const b=(0,i.$6)("ground",{width:10,height:10},g),f=new w.a(!0,await l.p);g.enablePhysics(null,f),new u.Sound("buzzer","sounds/Buzzer.wav",g).play();const P=new c.y2(new a.P(0,0,0),a._f.Identity(),new a.P(10,.1,10),g),E=new h.Q(b,d.c4.STATIC,!1,g);P.material={friction:.2,restitution:.8},E.shape=P,E.setMassProperties({mass:0});const R=[],A=(0,u.CreateIcoSphere)("icoSphere");A.position=new a.P(0,2,0),A.showBoundingBox=!0,R.push(A);const C=(0,u.CreateTorus)("torusMesh");C.position=new a.P(0,2,3),C.showBoundingBox=!0,R.push(C);const S=(0,u.CreateBox)("stick",{width:.25,height:2,depth:.25},g);S.position=new a.P(0,2,-3),S.showBoundingBox=!0,R.push(S);const y=(0,u.CreateBox)("stickPhysic",{width:.25,height:2,depth:.25},g);y.position=new a.P(0,2,-6),y.showBoundingBox=!0;const _=new h.Q(y,d.c4.DYNAMIC,!1,g);_.setMassProperties({mass:0}),_.shape=new c.y2(y.absolutePosition,y.absoluteRotationQuaternion,new a.P(.25,2,.25),g);const M=(await u.SceneLoader.ImportMeshAsync("","",p.Z,g,void 0)).meshes[1];M.scaling=new a.P(.02,.02,.02);const T=new c.A1(M,g),x=new h.Q(M,d.c4.DYNAMIC,!1,g);x.shape=T,x.setMassProperties({mass:0}),f.getBoundingBox(T);const B=new u.StandardMaterial("materialCollision",g);B.diffuseColor=u.Color3.Red();const G=new u.StandardMaterial("materialNoCollision",g);G.diffuseColor=u.Color3.Green(),g.onBeforeRenderObservable.add((()=>{!function(){const e=[];for(let t=0;t<R.length;t++)R.forEach((s=>{R[t]!=s&&R[t].intersectsMesh(s,!0)?(R[t].material=B,s.material=B,console.log(R[t].name,s.name),e.push(R[t],s)):e.includes(R[t])||(R[t].material=G)}))}()}));const v={floorMeshes:[b]};return await g.createDefaultXRExperienceAsync(v),g}}}},42110:(e,t,s)=>{s.d(t,{Z:()=>n});const n=s.p+"87c16888db5ebec0fb7b6c3bb705d897.glb"},51723:(e,t,s)=>{s.d(t,{w:()=>r});var n=s(6070),o=s(66089),a=s(84686);s(64863).p.AddParser(a.l.NAME_SHADOWGENERATOR,((e,t)=>{if(void 0!==e.shadowGenerators&&null!==e.shadowGenerators)for(let s=0,a=e.shadowGenerators.length;s<a;s++){const a=e.shadowGenerators[s];a.className===o.R.CLASSNAME?o.R.Parse(a,t):n.u.Parse(a,t)}}));class r{constructor(e){this.name=a.l.NAME_SHADOWGENERATOR,this.scene=e}register(){this.scene._gatherRenderTargetsStage.registerStep(a.l.STEP_GATHERRENDERTARGETS_SHADOWGENERATOR,this,this._gatherRenderTargets)}rebuild(){}serialize(e){e.shadowGenerators=[];const t=this.scene.lights;for(const s of t){const t=s.getShadowGenerators();if(t){const s=t.values();for(let t=s.next();!0!==t.done;t=s.next()){const s=t.value;e.shadowGenerators.push(s.serialize())}}}}addFromContainer(e){}removeFromContainer(e,t){}dispose(){}_gatherRenderTargets(e){const t=this.scene;if(this.scene.shadowsEnabled)for(let s=0;s<t.lights.length;s++){const n=t.lights[s],o=n.getShadowGenerators();if(n.isEnabled()&&n.shadowEnabled&&o){const s=o.values();for(let n=s.next();!0!==n.done;n=s.next()){const s=n.value.getShadowMap();-1!==t.textures.indexOf(s)&&e.push(s)}}}}}n.u._SceneComponentInitialization=e=>{let t=e._getComponent(a.l.NAME_SHADOWGENERATOR);t||(t=new r(e),e._addComponent(t))}}}]);
//# sourceMappingURL=202.babylonBundle.js.map