"use strict";(self.webpackChunkbabylonjs_typescript_webpack_template=self.webpackChunkbabylonjs_typescript_webpack_template||[]).push([[304],{19113:(e,t,s)=>{s.r(t),s.d(t,{DefaultSceneWithTexture:()=>m,default:()=>g});var n=s(8714),a=s(23579),o=s(90972),r=s(30307),i=s(39268),l=s(86409),d=s(73354),c=(s(51723),s(18913),s(84684)),h=s(81552);const p=s.p+"555db8d15bbc97ae30694376737aa1b3.glb",u=s.p+"0244f380ef0aafaf377b6d28f359db9a.png";class m{constructor(){this.createScene=async(e,t)=>{const m=new n.x(e);Promise.all([Promise.resolve().then(s.bind(s,31568)),Promise.all([s.e(596),s.e(247)]).then(s.t.bind(s,53596,23))]).then((e=>{console.log(e),m.debugLayer.show({handleResize:!0,overlay:!0,globalRoot:document.getElementById("#root")||void 0})}));const g=new a.Y("Camera",-1.85,1.2,50,o.P.Zero(),m);g.setTarget(o.P.Zero()),g.attachControl(t,!0);const f=new d.HemisphericLight("light",new o.P(0,1,0),m),w=await l.n.ImportMeshAsync("","",p,m,void 0,".glb"),b=w.meshes[1].material;w.meshes[1].material=b,w.meshes[0].position.y=2,console.log("Material: ",w.meshes[1].material);const E=new c.x(u,m,!1,!1),S=new d.PBRMaterial("altMaterial",m);S.albedoTexture=E,S.transparencyMode=0,S.roughness=.5,w.meshes[1].material.backFaceCulling=!1,b.albedoTexture=E;const R=(0,r.$6)("ground",{width:6,height:6},m),T=new i.K("ground material",m);return T.diffuseTexture=new c.x(h.Z,m),R.material=T,R.receiveShadows=!0,f.intensity=.5,t.addEventListener("pointerdown",(function(e){if(0!==e.button)return;const t=m.pick(m.pointerX,m.pointerY);t.hit&&console.log(t.getNormal(!0))}),!1),m}}}const g=new m},81552:(e,t,s)=>{s.d(t,{Z:()=>n});const n=s.p+"9b31293ea96c8dfa518b45622da82a13.jpg"},51723:(e,t,s)=>{s.d(t,{w:()=>r});var n=s(6070),a=s(66089),o=s(84686);s(64863).p.AddParser(o.l.NAME_SHADOWGENERATOR,((e,t)=>{if(void 0!==e.shadowGenerators&&null!==e.shadowGenerators)for(let s=0,o=e.shadowGenerators.length;s<o;s++){const o=e.shadowGenerators[s];o.className===a.R.CLASSNAME?a.R.Parse(o,t):n.u.Parse(o,t)}}));class r{constructor(e){this.name=o.l.NAME_SHADOWGENERATOR,this.scene=e}register(){this.scene._gatherRenderTargetsStage.registerStep(o.l.STEP_GATHERRENDERTARGETS_SHADOWGENERATOR,this,this._gatherRenderTargets)}rebuild(){}serialize(e){e.shadowGenerators=[];const t=this.scene.lights;for(const s of t){const t=s.getShadowGenerators();if(t){const s=t.values();for(let t=s.next();!0!==t.done;t=s.next()){const s=t.value;e.shadowGenerators.push(s.serialize())}}}}addFromContainer(e){}removeFromContainer(e,t){}dispose(){}_gatherRenderTargets(e){const t=this.scene;if(this.scene.shadowsEnabled)for(let s=0;s<t.lights.length;s++){const n=t.lights[s],a=n.getShadowGenerators();if(n.isEnabled()&&n.shadowEnabled&&a){const s=a.values();for(let n=s.next();!0!==n.done;n=s.next()){const s=n.value.getShadowMap();-1!==t.textures.indexOf(s)&&e.push(s)}}}}}n.u._SceneComponentInitialization=e=>{let t=e._getComponent(o.l.NAME_SHADOWGENERATOR);t||(t=new r(e),e._addComponent(t))}},16765:(e,t,s)=>{s.d(t,{A1:()=>d,Qk:()=>l,jY:()=>i});var n=s(90972),a=s(33632),o=s(74517),r=s(53027);function i(e){const t=0|(e.segments||32),s=e.diameterX||e.diameter||1,a=e.diameterY||e.diameter||1,i=e.diameterZ||e.diameter||1,l=e.arc&&(e.arc<=0||e.arc>1)?1:e.arc||1,d=e.slice&&e.slice<=0?1:e.slice||1,c=0===e.sideOrientation?0:e.sideOrientation||o.x.DEFAULTSIDE,h=!!e.dedupTopBottomIndices,p=new n.P(s/2,a/2,i/2),u=2+t,m=2*u,g=[],f=[],w=[],b=[];for(let e=0;e<=u;e++){const t=e/u,s=t*Math.PI*d;for(let e=0;e<=m;e++){const a=e/m,o=a*Math.PI*2*l,i=n.y3.RotationZ(-s),d=n.y3.RotationY(o),c=n.P.TransformCoordinates(n.P.Up(),i),h=n.P.TransformCoordinates(c,d),u=h.multiply(p),g=h.divide(p).normalize();f.push(u.x,u.y,u.z),w.push(g.x,g.y,g.z),b.push(a,r.e.UseOpenGLOrientationForUV?1-t:t)}if(e>0){const t=f.length/3;for(let s=t-2*(m+1);s+m+2<t;s++)h?(e>1&&(g.push(s),g.push(s+1),g.push(s+m+1)),(e<u||d<1)&&(g.push(s+m+1),g.push(s+1),g.push(s+m+2))):(g.push(s),g.push(s+1),g.push(s+m+1),g.push(s+m+1),g.push(s+1),g.push(s+m+2))}}o.x._ComputeSides(c,f,g,w,b,e.frontUVs,e.backUVs);const E=new o.x;return E.indices=g,E.positions=f,E.normals=w,E.uvs=b,E}function l(e,t={},s=null){const n=new a.Kj(e,s);return t.sideOrientation=a.Kj._GetDefaultSideOrientation(t.sideOrientation),n._originalBuilderSideOrientation=t.sideOrientation,i(t).applyToMesh(n,t.updatable),n}const d={CreateSphere:l};o.x.CreateSphere=i,a.Kj.CreateSphere=(e,t,s,n,a,o)=>l(e,{segments:t,diameterX:s,diameterY:s,diameterZ:s,sideOrientation:o,updatable:a},n)}}]);
//# sourceMappingURL=304.babylonBundle.js.map