(()=>{"use strict";var r,e,t,o,n,a,s={65239:(r,e,t)=>{t.d(e,{dy:()=>c,t$:()=>s});var o=t(73354);const n=1;function a(r,e,t,a,s,c){const i=e.subtract(r).length()/2,l=t.subtract(c),u=new o.Vector3(a.x,a.y,a.z);return s*n/(1+5/(2*Math.pow(i,2))*Math.pow(l.cross(u).length(),2))}function s(r,e,t,n,s,c){const i=a(e,t,n,s,r,c);return new o.Vector3(s.x,s.y,s.z).multiply(new o.Vector3(i,i,i)).multiply(new o.Vector3(.3,.3,.3))}function c(r,e,t,n,s,c,i){const l=t.subtract(e).length()/2,u=n.subtract(s).cross(c),p=5/(2*Math.pow(l,2))*a(e,t,n,c,r,s),f=u.multiply(new o.Vector3(p,p,p)),m=i;return new o.Quaternion(f.x/2,f.y/2,f.z/2,0).multiply(m)}},66287:(r,e,t)=>{t.d(e,{f9:()=>a});var o=t(90972);function n(r,e,t){return r.x>=e.x&&r.y>=e.y&&r.z>=e.z&&r.x<=t.x&&r.y<=t.y&&r.z<=t.z}function a(r,e,t){if(!n(r,e.bbox.min,e.bbox.max))return-1;const a=function(r,e){const t=e,n=new o.y3;return t.invertToRef(n),o.P.TransformCoordinates(r,n)}(r,t),s=function(r,e){const t=e.bbox.min;if(!n(r,e.bbox.min,e.bbox.max))return-1;let a=r.subtract(t);a=a.divide(new o.P(e.cellSize,e.cellSize,e.cellSize));const s=new o.P(Math.round(a.x),Math.round(a.y),Math.round(a.z));return c=s.x,i=s.y,l=s.z,c+(u=e.res).x*(i+u.y*l);var c,i,l,u}(a,e);return-1===s?-1:e.distances[s]}},20413:(r,e,t)=>{t.a(r,(async(r,e)=>{try{var o=t(73354),n=t(37069),a=t(66287),s=t(66132),c=t(65239);const i=(0,s.r)("https://raw.githubusercontent.com/P-Miha/Kyros-Zylinder/master/assets/SDFInformation/Nagel1.noff"),l=(0,s.O)(await i),u="https://raw.githubusercontent.com/P-Miha/Kyros-Zylinder/master/assets/SDFInformation/Nagel1.sdf",p=(0,n.M)(u),f=(0,n.i)(await p),m=o.Vector3.Zero(),b=o.Quaternion.Zero(),h=o.Vector3.Zero(),y=o.Quaternion.Zero();let d=[],x=[],w=0,v=0,g=d[v],V=o.Vector3.Zero(),_=o.Vector3.Zero();function S(r,e){const t=[];return r.forEach((r=>{t.push(o.Vector3.TransformCoordinates(r,e))})),t}function F(r,e,t){let o=1,n=0;return r.forEach((s=>{const c=(0,a.f9)(s,e,t);c<o&&-1!=c&&c<0&&(o=c,n=r.indexOf(s))})),[o,n]}self.addEventListener("message",(r=>{const e=o.Matrix.FromArray(r.data[0]),t=o.Matrix.FromArray(r.data[1]);if(e.decompose(void 0,b,m),t.decompose(void 0,y,h),d=S(l.vertices,e),x=F(d,f,t),w=x[0],v=x[1],g=d[v],V=new o.Vector3(l.normals[v].x,l.normals[v].y,l.normals[v].z),_=o.Vector3.TransformNormal(V,e),w<.1){const r=(0,c.t$)(w,f.bbox.min,f.bbox.max,g,_,m),e=(0,c.dy)(w,f.bbox.min,f.bbox.max,g,m,_,b);self.postMessage([r.asArray(),e.asArray(),1])}else self.postMessage([o.Vector3.Zero().asArray(),o.Quaternion.Zero().asArray(),-1])})),d=[],x=[],w=0,v=0,g=o.Vector3.Zero(),V=o.Vector3.Zero(),_=o.Vector3.Zero(),e()}catch(z){e(z)}}),1)},66132:(r,e,t)=>{t.d(e,{O:()=>a,r:()=>n});var o=t(73354);async function n(r){try{const e=await fetch(r);return await e.text()}catch(r){throw console.error("Fehler beim Laden der Off-Datei:",r),r}}function a(r){const e=r.trim().split("\n"),t=[],n=[];for(let r=3;r<e.length;r++){const a=e[r].trim().split(" ").map(parseFloat);if(a.length>=3){const r=o.Vector3.FromArray(a.slice(0,3));if(t.push(r),a.length>=6){const r=o.Vector3.FromArray(a.slice(3,6));n.push(r)}}}return{vertices:t,normals:n}}},37069:(r,e,t)=>{t.d(e,{M:()=>n,i:()=>a});var o=t(73354);async function n(r){try{const e=await fetch(r);return await e.text()}catch(r){throw console.error("Fehler beim Laden der SDF-Datei:",r),r}}function a(r){const e=r.trim().split("\n"),t={bbox:{min:o.Vector3.Zero(),max:o.Vector3.Zero()},cellSize:0,res:o.Vector3.Zero(),numCells:0,distances:[]};for(let r=0;r<e.length;r++){const n=e[r].trim(),a=n.indexOf("#");if(-1!==a){const e=n.substring(0,a).trim();if(0===e.length)continue;const s=e.split(" ").map(parseFloat);s.length>0&&(0===r?t.bbox.min=o.Vector3.FromArray(s):1===r?t.bbox.max=o.Vector3.FromArray(s):2===r?t.cellSize=s[0]:3===r?t.res=o.Vector3.FromArray(s):4===r?t.numCells=s[0]:t.distances.push(...s))}else{const e=n.split(" ").map(parseFloat);e.length>0&&(0===r?t.bbox.min=o.Vector3.FromArray(e):1===r?t.bbox.max=o.Vector3.FromArray(e):2===r?t.cellSize=e[0]:3===r?t.res=o.Vector3.FromArray(e):4===r?t.numCells=e[0]:t.distances.push(...e))}}return t}}},c={};function i(r){var e=c[r];if(void 0!==e)return e.exports;var t=c[r]={exports:{}};return s[r](t,t.exports,i),t.exports}i.m=s,i.x=()=>{var r=i.O(void 0,[873,906,559,778,156,522,89,962,745,734,804,803,921],(()=>i(20413)));return i.O(r)},r="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",t="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=r=>{r&&r.d<1&&(r.d=1,r.forEach((r=>r.r--)),r.forEach((r=>r.r--?r.r++:r())))},i.a=(n,a,s)=>{var c;s&&((c=[]).d=-1);var i,l,u,p=new Set,f=n.exports,m=new Promise(((r,e)=>{u=e,l=r}));m[e]=f,m[r]=r=>(c&&r(c),p.forEach(r),m.catch((r=>{}))),n.exports=m,a((n=>{var a;i=(n=>n.map((n=>{if(null!==n&&"object"==typeof n){if(n[r])return n;if(n.then){var a=[];a.d=0,n.then((r=>{s[e]=r,o(a)}),(r=>{s[t]=r,o(a)}));var s={};return s[r]=r=>r(a),s}}var c={};return c[r]=r=>{},c[e]=n,c})))(n);var s=()=>i.map((r=>{if(r[t])throw r[t];return r[e]})),l=new Promise((e=>{(a=()=>e(s)).r=0;var t=r=>r!==c&&!p.has(r)&&(p.add(r),r&&!r.d&&(a.r++,r.push(a)));i.map((e=>e[r](t)))}));return a.r?l:s()}),(r=>(r?u(m[t]=r):l(f),o(c)))),c&&c.d<0&&(c.d=0)},n=[],i.O=(r,e,t,o)=>{if(!e){var a=1/0;for(u=0;u<n.length;u++){for(var[e,t,o]=n[u],s=!0,c=0;c<e.length;c++)(!1&o||a>=o)&&Object.keys(i.O).every((r=>i.O[r](e[c])))?e.splice(c--,1):(s=!1,o<a&&(a=o));if(s){n.splice(u--,1);var l=t();void 0!==l&&(r=l)}}return r}o=o||0;for(var u=n.length;u>0&&n[u-1][2]>o;u--)n[u]=n[u-1];n[u]=[e,t,o]},i.d=(r,e)=>{for(var t in e)i.o(e,t)&&!i.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})},i.f={},i.e=r=>Promise.all(Object.keys(i.f).reduce(((e,t)=>(i.f[t](r,e),e)),[])),i.u=r=>"js/"+r+".babylonBundle.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),i.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),(()=>{var r;i.g.importScripts&&(r=i.g.location+"");var e=i.g.document;if(!r&&e&&(e.currentScript&&(r=e.currentScript.src),!r)){var t=e.getElementsByTagName("script");if(t.length)for(var o=t.length-1;o>-1&&!r;)r=t[o--].src}if(!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=r+"../"})(),(()=>{var r={413:1};i.f.i=(e,t)=>{r[e]||importScripts(i.p+i.u(e))};var e=self.webpackChunkbabylonjs_typescript_webpack_template=self.webpackChunkbabylonjs_typescript_webpack_template||[],t=e.push.bind(e);e.push=e=>{var[o,n,a]=e;for(var s in n)i.o(n,s)&&(i.m[s]=n[s]);for(a&&a(i);o.length;)r[o.pop()]=1;t(e)}})(),a=i.x,i.x=()=>Promise.all([873,906,559,778,156,522,89,962,745,734,804,803,921].map(i.e,i)).then(a),i.x()})();
//# sourceMappingURL=413.babylonBundle.js.map